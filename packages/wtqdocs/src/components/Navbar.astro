---
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";
import type { WathqnyConfig as WathqnyConfigType } from "wtqtypes";

// @ts-ignore
import untypedWathqnyConfig from "/wathqny.config";

const WathqnyConfig: WathqnyConfigType = untypedWathqnyConfig;

const { logo, siteName, navbar } = WathqnyConfig;
---

<nav class="wtq-navbar" role="navigation">
  <span class="wtq-navbar-overlay"></span>
  <a href="/">
    <div class="wtq-brand">
      <Image
        alt="fruitUI logo, an beautiful orange with a gradient background"
        width={40}
        height={40}
        src={logo as string}
        loading="eager"
      />
      <span>{siteName}</span>
    </div>
  </a>
  <button tabindex="0" aria-label="hamburger-menu" class="wtq-toggle"></button>
  <ul class="wtq-links">
    {
      navbar?.items.map((Item) => {
        return (
          <li>
            <a href={Item.href}>{Item.item}</a>
          </li>
        );
      })
    }
    <li class="wtq-item-button">
      <button
        class="theme-switcher wtq-focusable"
        aria-label="dark mode toggler">
        <Icon name={"moon"} class={"dark-mode-moon"} />
        <Icon name={"sun"} class={"dark-mode-sun"} />
      </button>
    </li>
  </ul>
  <script src="./navbar.ts"></script>
</nav>
