---
import { getCollection } from "astro:content";
import { For } from "astro-toolkit/flow";
import { BlogLayout } from "wtqdocs/blog";
import PostSummary from "../components/blog/PostSummary.astro";

const blog = await getCollection("blog");
---

<BlogLayout>
  <div class="wtq-post-container">
    <For each={blog}>
      {(post: { data: { title: string; image: { src: string; alt: string; }; link: string; pubDate: Date; }; body: string; })=> (
        <PostSummary 
          title={post.data.title} 
          image={post.data.image} 
          link={post.data.link}
          date={post.data.pubDate} 
          body={post.body} />
      )}
    </For>
  </div>
</BlogLayout>
