---
import { getEntry } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import { type CollectionEntry, getCollection } from "astro:content";

import Breadcrumbs from "../../layouts/breadcrumbs.astro";


export async function getStaticPaths() {
  let docs = await getCollection("docs");

  return docs.map((doc) => {
    return {
      params: { id: doc.data.category.toLowerCase() + doc.data.href },
      props: { doc },
    };
  });
}

interface Props {
  doc: CollectionEntry<"docs">;
}

const { doc } = Astro.props;
const { authors } = doc.data;

const authorData = await getEntry("authors", authors?.id);

const { Content } = await doc.render();
---

<Layout
  sidebar={true}
  title={doc.data.title}
  description={doc.data.description}
  keywords={doc.data.title}>
  <div style="display: flex;align-items: center;">

    <button class="wtq-sidebar-toggle" aria-label="toggle expand sidebar">
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 56 56"><g transform="translate(56 0) scale(-1 1)"><path fill="currentColor" d="M7.715 49.574h40.57c4.899 0 7.36-2.437 7.36-7.265V13.69c0-4.828-2.461-7.265-7.36-7.265H7.715C2.84 6.426.355 8.84.355 13.69v28.62c0 4.851 2.485 7.265 7.36 7.265m.07-3.773c-2.344 0-3.656-1.242-3.656-3.68V13.88c0-2.438 1.312-3.68 3.656-3.68h26.367v35.602ZM48.215 10.2c2.32 0 3.656 1.242 3.656 3.68v28.24c0 2.438-1.336 3.68-3.656 3.68H37.832V10.199Zm-5.883 8.696h5.016c.726 0 1.336-.633 1.336-1.313c0-.703-.61-1.312-1.336-1.312h-5.016c-.703 0-1.336.609-1.336 1.312c0 .68.633 1.313 1.336 1.313m0 6.07h5.016c.726 0 1.336-.633 1.336-1.336c0-.703-.61-1.29-1.336-1.29h-5.016c-.703 0-1.336.587-1.336 1.29c0 .703.633 1.336 1.336 1.336m0 6.047h5.016c.726 0 1.336-.586 1.336-1.29c0-.702-.61-1.312-1.336-1.312h-5.016c-.703 0-1.336.61-1.336 1.313s.633 1.289 1.336 1.289"/></g></svg>
    </button>
    <Breadcrumbs/>
  </div>
  <main class="anim-slide-botto" id="main-content">
  <h1 class="wtq-main-heading">{doc.data.title}</h1>
    <Content />
  </main>
</Layout>
