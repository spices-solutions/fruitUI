---
import { Image } from "astro:assets";
import { Debug } from "astro:components";
import { getCollection, type CollectionEntry } from "astro:content";
import { CodeBlock } from "wtqcode";
import { Head, Layout, Navbar } from "wtqdocs";
import { formatDate, BlogLayout } from "wtqdocs/blog";

const blog = await getCollection("blog");

interface Props {
  blog: CollectionEntry<"blog">;
}
---

<BlogLayout>
  <style lang="scss">
    .wtq-post-container {
      display: grid;
      justify-content: center;
      grid-template-columns: 692px;
      margin-top: 30px;
      gap: 1rem;
    
      @media screen and (max-width: 768px) {
        grid-template-columns: 550px;
      }
    
      @media screen and (max-width: 600px) {
        grid-template-columns: 100%;
      }
    
      .dark & {
        border-color: var(--accent-20);
      }
    }
    
    .wtq-post {
      border: 1px solid var(--accent-200);
      background-color: var(--accent-20);
      border-radius: 20px;
      transition: all 200ms ease;
      padding: 25px;
      box-shadow: 0 10px 25px -5px rgb(0 0 0 / 0.05);
    }
    
    .wtq-post-head {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .wtq-post-content {
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;
    }
    
    .wtq-cover {
      border: 1px solid var(--accent-50);
      border-radius: 40px;
      aspect-ratio: 16/9;
      height: auto;
      box-shadow: 0 10px 25px -5px rgb(0 0 0 / 0.1);
    }
    
    .wtq-post-title {
      color: var(--accent-800);
      font-weight: 600;
      line-height: 1.5;
      font-size: var(--font-md);
      margin: 0;
    }
    
    .wtq-post-subtitle {
      margin: 0;
      color: var(--accent-700);
      font-weight: 400;
      letter-spacing: 0.3pt;
      font-size: var(--font-xs);
    }
    </style>
  <div class="wtq-post-container">
    {
      blog.map((post) => {
        return (
          <a href={"/blog/" + post.data.tags.toLowerCase() + post.data.href}>
            <div class="wtq-post">
              <span class="wtq-post-head">
                <h1 class="wtq-post-title">{post.data.title}</h1>
                <span>
                  <time datetime={post.data.pubDate.toISOString()}>
                    {formatDate(post.data.pubDate)}
                  </time>
                </span>
              </span>
              <p class="wtq-post-content">{post.data.description}</p>

              <Image
                class="wtq-cover"
                width={640}
                height={360}
                src={`/og.png`}
                alt={"dwad"}
      loading="eager"

              />
              
            </div>
          </a>
        );
      })
    }
  </div>
</BlogLayout>
