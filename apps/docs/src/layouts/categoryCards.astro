---
import { getCollection } from "astro:content";
const docs = await getCollection("docs");

const category = Astro.url.pathname.split("/")[2];
docs.sort((a, b) => (a.data.position > b.data.position ? 1 : -1));

const newdocs = docs.filter((doc) => {
  return doc.data.category.toLowerCase() == category;
});
---

<div style="display: grid; gap: 10px; grid-template-columns: repeat(2,1fr);  margin-top: 30px;">
  {
    newdocs.map((doc) => {
      return (
        <a href={category + doc.data.href}>
          <div class="wtq-card">
            <h2 class="wtq-card-title">{doc.data.title}</h2>
            <h3 class="wtq-card-subtitle">{doc.data.description}</h3>
          </div>
        </a>
      );
    })
  }
</div>
